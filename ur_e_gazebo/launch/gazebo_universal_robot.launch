<?xml version="1.0"?>
<launch>
  
  <!-- Gazebo simulation arguments -->
  <arg name="sim" default="true" doc="If true, *robot*_planning_execution.launch uses ros_controllers instead of real controllers" />
  <arg name="limited" default="false"  doc="If true, limits joint range [-PI, PI] on all joints" />
  <arg name="paused" default="false" doc="Starts gazebo in paused mode" />
  <arg name="gui" default="true" doc="Starts gazebo gui" />

  <!-- Robot model/series information for choosing correct launch/configuration files -->
  <arg name="model" default="5" doc="Robot number model 3, 5, or 10 (16 not currently implemented)"/>

  <!-- Change if a way to convert int to string can be done -->
  <!-- Bring up Gazebo simulation of robot -->
  <group if="$(eval arg('model') == 3)">
      <include file="$(find ur_e_gazebo)/launch/ur3e.launch">
          <arg name="limited" value="true" />
      </include>
  </group>
  <group if="$(eval arg('model') == 5)">
      <include file="$(find ur_e_gazebo)/launch/ur5e.launch">
          <arg name="limited" value="true" />
      </include>
  </group>
  <group if="$(eval arg('model') == 10)">
      <include file="$(find ur_e_gazebo)/launch/ur10e.launch">
          <arg name="limited" value="true" />
      </include>
  </group>

  <!-- Launch gazebo controllers for robot -->
  <group if="$(eval arg('model') == 3)">
      <include file="$(find ur3_e_moveit_config)/launch/ur3_e_moveit_planning_execution.launch">
          <arg name="sim" value="true" />
          <arg name="limited" value="true" />
      </include>
  </group>
  <group if="$(eval arg('model') == 5)">
      <include file="$(find ur5_e_moveit_config)/launch/ur5_e_moveit_planning_execution.launch">
          <arg name="sim" value="true" />
          <arg name="limited" value="true" />
      </include>
  </group>
  <group if="$(eval arg('model') == 10)">
      <include file="$(find ur10_e_moveit_config)/launch/ur10_e_moveit_planning_execution.launch">
          <arg name="sim" value="true" />
          <arg name="limited" value="true" />
      </include>
  </group>

  <!-- Launch Rviz with moveit interface for robot-->
  <group if="$(eval arg('model') == 3)">
      <include file="$(find ur3_e_moveit_config)/launch/moveit_rviz.launch">
          <arg name="config" value="true" />
      </include>
  </group>
  <group if="$(eval arg('model') == 5)">
      <include file="$(find ur5_e_moveit_config)/launch/moveit_rviz.launch">
          <arg name="config" value="true" />
      </include>
  </group>
  <group if="$(eval arg('model') == 10)">
      <include file="$(find ur10_e_moveit_config)/launch/moveit_rviz.launch">
          <arg name="config" value="true" />
      </include>
  </group>

</launch>
